@model TopicsViewModel

<partial name="_Notification" />

<div class="row mt-5">
    <table class="table table-bordered table-striped shadow">
        <thead>
            <tr>
                <th>
                    User Name
                </th>
                <th>
                    User ID
                </th>
                <th>

                </th>
            </tr>
        </thead>
        <tbody>
            @foreach (var user in Model.Users)
            {
                
                <tr>
                    <td>
                        <a class="btn" asp-area="" asp-controller="Feedback" asp-route-id="@user.Id" asp-action="UserResponseView">@user.UserName</a>
                    </td>
                    <td>
                        @user.Id
                    </td>
                    <td>
                        @Model.Responses.Count(r => r.UserId == user.Id) &nbsp; responses &nbsp; &nbsp; | &nbsp; &nbsp;
                        @Model.AdditionalFeedbacks.Count(f => f.UserId == user.Id) &nbsp; suggestions
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>




<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct" crossorigin="anonymous"></script>


<script>
    $(document).ready(function () {
        $('.read-more-btn').click(function () {
            console.log('Button clicked');

            var container = $(this).prev('.response-container');
            container.find('.visible-part, .hidden-part').toggle();

            var hiddenPart = container.find('.hidden-part');
            if (hiddenPart.is(':visible')) {
                $(this).text('Read Less');
            } else {
                $(this).text('Read More');
            }
        });
    });
</script>